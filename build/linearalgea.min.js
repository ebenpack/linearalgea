/*

 Copyright (c) 2014 Eben Packwood. All rights reserved.
 MIT License

*/
!function(p){if("object"==typeof exports)module.exports=p();else if("function"==typeof define&&define.amd)define(p);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self);f.linearalgea=p()}}(function(){return function f(g,k,d){function a(c,t){if(!k[c]){if(!g[c]){var h="function"==typeof require&&require;if(!t&&h)return h(c,!0);if(b)return b(c,!0);throw Error("Cannot find module '"+c+"'");}h=k[c]={exports:{}};g[c][0].call(h.exports,function(b){var d=
g[c][1][b];return a(d?d:b)},h,h.exports,f,g,k,d)}return k[c].exports}for(var b="function"==typeof require&&require,c=0;c<d.length;c++)a(d[c]);return a}({1:[function(f,g,k){k=f("./vector.js");f=f("./matrix.js");var d=Object.create(null);d.Vector=k;d.Matrix=f;g.exports=d},{"./matrix.js":2,"./vector.js":3}],2:[function(f,g,k){function d(){for(var a=0;16>a;a++)this[a]=0;this.length=16}d.prototype.equal=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]!==a[b])return!1;return!0};d.prototype.add=
function(a){for(var b=new d,c=0,e=this.length;c<e;c++)b[c]=this[c]+a[c];return b};d.prototype.subtract=function(a){for(var b=new d,c=0,e=this.length;c<e;c++)b[c]=this[c]-a[c];return b};d.prototype.multiplyScalar=function(a){for(var b=new d,c=0,e=this.length;c<e;c++)b[c]=this[c]*a;return b};d.prototype.multiply=function(a){var b=new d;b[0]=this[0]*a[0]+this[1]*a[4]+this[2]*a[8]+this[3]*a[12];b[1]=this[0]*a[1]+this[1]*a[5]+this[2]*a[9]+this[3]*a[13];b[2]=this[0]*a[2]+this[1]*a[6]+this[2]*a[10]+this[3]*
a[14];b[3]=this[0]*a[3]+this[1]*a[7]+this[2]*a[11]+this[3]*a[15];b[4]=this[4]*a[0]+this[5]*a[4]+this[6]*a[8]+this[7]*a[12];b[5]=this[4]*a[1]+this[5]*a[5]+this[6]*a[9]+this[7]*a[13];b[6]=this[4]*a[2]+this[5]*a[6]+this[6]*a[10]+this[7]*a[14];b[7]=this[4]*a[3]+this[5]*a[7]+this[6]*a[11]+this[7]*a[15];b[8]=this[8]*a[0]+this[9]*a[4]+this[10]*a[8]+this[11]*a[12];b[9]=this[8]*a[1]+this[9]*a[5]+this[10]*a[9]+this[11]*a[13];b[10]=this[8]*a[2]+this[9]*a[6]+this[10]*a[10]+this[11]*a[14];b[11]=this[8]*a[3]+this[9]*
a[7]+this[10]*a[11]+this[11]*a[15];b[12]=this[12]*a[0]+this[13]*a[4]+this[14]*a[8]+this[15]*a[12];b[13]=this[12]*a[1]+this[13]*a[5]+this[14]*a[9]+this[15]*a[13];b[14]=this[12]*a[2]+this[13]*a[6]+this[14]*a[10]+this[15]*a[14];b[15]=this[12]*a[3]+this[13]*a[7]+this[14]*a[11]+this[15]*a[15];return b};d.prototype.negate=function(){for(var a=new d,b=0,c=this.length;b<c;b++)a[b]=-this[b];return a};d.prototype.transpose=function(){var a=new d;a[0]=this[0];a[1]=this[4];a[2]=this[8];a[3]=this[12];a[4]=this[1];
a[5]=this[5];a[6]=this[9];a[7]=this[13];a[8]=this[2];a[9]=this[6];a[10]=this[10];a[11]=this[14];a[12]=this[3];a[13]=this[7];a[14]=this[11];a[15]=this[15];return a};d.rotationX=function(a){var b=new d,c=Math.cos(a);a=Math.sin(a);b[0]=1;b[5]=c;b[6]=-a;b[9]=a;b[10]=c;b[15]=1;return b};d.rotationY=function(a){var b=new d,c=Math.cos(a);a=Math.sin(a);b[0]=c;b[2]=a;b[5]=1;b[8]=-a;b[10]=c;b[15]=1;return b};d.rotationZ=function(a){var b=new d,c=Math.cos(a);a=Math.sin(a);b[0]=c;b[1]=-a;b[4]=a;b[5]=c;b[10]=
1;b[15]=1;return b};d.rotationAxis=function(a,b){var c=new d,e=a.normalize(),f=Math.sin(b),h=Math.cos(b),l=1-h,m=e.x,g=e.y,e=e.z,k=m*g,n=m*e,s=g*e;c[0]=h+m*m*l;c[1]=k*l-e*f;c[2]=n*l+g*f;c[4]=k*l+e*f;c[5]=h+g*g*l;c[6]=s*l-m*f;c[8]=n*l-g*f;c[9]=s*l+m*f;c[10]=h+e*e*l;c[15]=1;return c};d.rotation=function(a,b,c){return d.rotationX(c).multiply(d.rotationZ(b)).multiply(d.rotationY(a))};d.translation=function(a,b,c){var e=d.identity();e[12]=a;e[13]=b;e[14]=c;return e};d.scale=function(a,b,c){var e=new d;
e[0]=a;e[5]=b;e[10]=c;e[15]=1;return e};d.identity=function(){var a=new d;a[0]=1;a[5]=1;a[10]=1;a[15]=1;return a};d.zero=function(){return new d};d.fromArray=function(a){for(var b=new d,c=0;16>c;c++)b[c]=a[c];return b};g.exports=d},{}],3:[function(f,g,k){function d(a,b,c){if("undefined"===typeof a||"undefined"===typeof b||"undefined"===typeof c)throw Error("Insufficient arguments.");this.x=a;this.y=b;this.z=c}d.prototype.add=function(a){return new d(this.x+a.x,this.y+a.y,this.z+a.z)};d.prototype.subtract=
function(a){return new d(this.x-a.x,this.y-a.y,this.z-a.z)};d.prototype.equal=function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z};d.prototype.angle=function(a){var b=this.normalize();a=a.normalize();var c=b.magnitude(),d=a.magnitude();if(0===c||0===d)return 0;b=b.dot(a)/(c*d);-1>b&&(b=-1);1<b&&(b=1);return Math.acos(b)};d.prototype.cosAngle=function(a){var b=this.normalize();a=a.normalize();var c=b.magnitude(),d=a.magnitude();if(0===c||0===d)return 0;b=b.dot(a)/(c*d);-1>b&&(b=-1);1<b&&(b=
1);return b};d.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};d.prototype.magnitudeSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z};d.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};d.prototype.cross=function(a){return new d(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)};d.prototype.normalize=function(){var a=this.magnitude();return 0===a?this:new d(this.x/a,this.y/a,this.z/a)};d.prototype.scale=
function(a){return new d(this.x*a,this.y*a,this.z*a)};d.prototype.negate=function(){return new d(-this.x,-this.y,-this.z)};d.prototype.vectorProjection=function(a){var b=a.magnitude();return a.scale(this.dot(a)/(b*b))};d.prototype.scalarProjection=function(a){return this.dot(a)/a.magnitude()};d.prototype.transform=function(a){var b=this.x*a[3]+this.y*a[7]+this.z*a[11]+a[15];return new d((this.x*a[0]+this.y*a[4]+this.z*a[8]+a[12])/b,(this.x*a[1]+this.y*a[5]+this.z*a[9]+a[13])/b,(this.x*a[2]+this.y*
a[6]+this.z*a[10]+a[14])/b)};d.prototype.rotate=function(a,b){var c=a.normalize(),e=Math.sin(b),f=Math.cos(b),h=1-f,g=c.x,k=c.y,q=c.z,r=c.x*c.y,n=c.x*c.z,c=c.y*c.z;return new d((f+g*g*h)*this.x+(r*h-q*e)*this.y+(n*h+k*e)*this.z,(r*h+q*e)*this.x+(f+k*k*h)*this.y+(c*h-g*e)*this.z,(n*h-k*e)*this.x+(c*h+g*e)*this.y+(f+g*g*h)*this.z)};d.prototype.rotateX=function(a){var b=Math.sin(a);a=Math.cos(a);return new d(this.x,a*this.y-b*this.z,b*this.y+a*this.z)};d.prototype.rotateY=function(a){var b=Math.sin(a);
a=Math.cos(a);return new d(a*this.x+b*this.z,this.y,-(b*this.x)+a*this.z)};d.prototype.rotateZ=function(a){var b=Math.sin(a);a=Math.cos(a);return new d(a*this.x-b*this.y,b*this.x+a*this.y,this.z)};d.prototype.rotatePitchYawRoll=function(a,b,c){return this.rotateX(c).rotateY(a).rotateZ(b)};g.exports=d},{}]},{},[1])(1)});
